/*! venmo-js-sdk 08-12-2013 */
!function(a,b){"use strict";var c=function(){};c.queryParser=function(a){for(var b,c={},d=a.slice(1),e=/([^&=]+)=([^&]*)/g;b=e.exec(d);)c[decodeURIComponent(b[1])]=decodeURIComponent(b[2]).replace(/\+/g," ");return c},c.ajaxRequest=function(){function a(){for(var a=!1,b=0;b<c.length;b++){try{a=c[b]()}catch(d){continue}break}return a}var b=new e,c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return this.get=function(c){var d=a();return d?(d.open("GET",c,!0),d.setRequestHeader("User-Agent","XMLHTTP/1.0"),d.onreadystatechange=function(){return 4!=d.readyState?(b.fireEvent("failed",d),this):200!=d.status&&304!=d.status?(b.fireEvent("failed",d),this):(b.fireEvent("complete",d),void 0)},4==d.readyState?(b.fireEvent("failed",d),this):this):this},this.post=function(c,d){var e=a();return e?(e.open("POST",c,!0),e.setRequestHeader("User-Agent","XMLHTTP/1.0"),d&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){return 4!=e.readyState?(b.fireEvent("failed",e),this):200!=e.status&&304!=e.status?(b.fireEvent("failed",e),this):(b.fireEvent("complete",e),void 0)},4==e.readyState?(b.fireEvent("failed",e),this):(e.send(d),this)):this},this.complete=function(a){return b.addListener("complete",a),this},this.failed=function(a){return b.addListener("failed",a),this},this};var d=function(){};d.get=function(b){var c=a.document.cookie,d=c.indexOf(" "+b+"=");if(-1==d&&(d=c.indexOf(b+"=")),-1==d)c=null;else{d=c.indexOf("=",d)+1;var e=c.indexOf(";",d);-1==e&&(e=c.length),c=a.unescape(c.substring(d,e))}return c},d.set=function(b,c,d){var e=a.escape(c)+(null===d?"":";expires="+d.toUTCString())+";domain="+a.document.domain+";path=/";a.document.cookie=b+"="+e,console.log(b+"="+e)},d.remove=function(a){var b=new Date;b.setTime(b.getTime()-1),d.set(a,null,b)};var e=function(){var a={};this.addListener=function(b,c){b in a||(a[b]=[]),a[b].push(c)},this.removeListener=function(c,d){if(d!==b){var e=a[c].indexOf(d);return-1!==e&&a[c].splice(e,1),void 0}a[c]=[]},this.fireEvent=function(b,c){for(var d in a[b])a[b][d](c)}};if(a.opener){var f=c.queryParser(a.location.search),g={},h=["error","access_token"];for(var i in h)h[i]in f&&(g[h[i]]=f[h[i]]);a.opener.Venmo.Events.fireEvent("login",g),a.close()}var j=function(){return!0};j.init=function(a){j.AccessToken=d.get("venmo_access_token");for(var b in a)j[b]=a[b]},j.Events=new e,j.AccessToken=null,j.login=function(c){if(j.Events.addListener("login",c),null!==j.AccessToken){var e={access_token:j.AccessToken};return j.Events.fireEvent("login",e),void 0}var f=a.screenLeft!==b?a.screenLeft:a.screen.left,g=a.screenTop!==b?a.screenTop:a.screen.top,h=a.screen.width/2-200+f,i=a.screen.height/2-250+g,k="menubar=no,location=no,resizable=no,scrollbars=no,status=yes,height=580,width=400,left="+h+",top="+i,l="/oauth/authorize?client_id="+j.ClientID+"&scope="+j.Scope+"&response_type=token",m=a.open(j.API_DOMAIN+l,"Test",k);m.focus(),j.Events.addListener("login",function(a){if("access_token"in a){var b=new Date;b.setTime(b.getTime()+18e5),j.AccessToken=a.access_token,d.set("venmo_access_token",a.access_token,b)}})},j.logout=function(){return j.AccessToken=null,d.remove("venmo_access_token"),!0},j.api=function(a,b){b({url:a})},j.API_DOMAIN="https://api.Venmo.com",j.VERSION="0.0.1",a.Venmo=j}(this);